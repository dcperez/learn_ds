<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>HashSet.java</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #a9b7c6; background-color: #2b2b2b; font-family: Monospaced}
pre {color: #a9b7c6; background-color: #2b2b2b; font-family: Monospaced}
table {color: #888888; background-color: #313335; font-family: Monospaced}
.ST1 {color: #808080; font-family: Monospaced; font-weight: bold}
.ST2 {color: #8a653b}
.whitespace {color: #505050}
.comment {color: #808080}
.ST4 {color: #ffc66d; font-family: Monospaced; font-style: italic}
.ST5 {color: #9876aa; font-family: Monospaced; font-style: italic}
.number {color: #6897bb}
.string {color: #6a8759}
.ST0 {color: #9876aa}
.ST3 {color: #ffc66d}
.literal {color: #cc7832}
-->
</style>
</head>
<body>
<table width="100%"><tr><td align="center">/Users/danielperez/Documents/Doing the BS for the CS/COP3337-Programming II/Final CheatSheet/src/HashSet.java</td></tr></table>
<pre>
  1 <span class="literal">import</span> java.util.Iterator;
  2 <span class="literal">import</span> java.util.NoSuchElementException;
  3 
  4 <span class="comment">/**</span>
  5    <span class="comment">This</span> <span class="comment">class</span> <span class="comment">implements</span> <span class="comment">a</span> <span class="comment">hash</span> <span class="comment">set</span> <span class="comment">using</span> <span class="comment">separate</span> <span class="comment">chaining</span><span class="comment">.</span>
  6 <span class="comment">*/</span>
  7 <span class="literal">public</span> <span class="literal">class</span> HashSet
  8 {
  9    <span class="literal">private</span> Node[] <span class="ST0">buckets</span>;
 10    <span class="literal">private</span> <span class="literal">int</span> <span class="ST0">currentSize</span>;
 11 
 12    <span class="comment">/**</span>
 13       <span class="comment">Constructs</span> <span class="comment">a</span> <span class="comment">hash</span> <span class="comment">table</span><span class="comment">.</span>
 14       <span class="ST1">@param</span> <span class="ST2">bucketsLength</span> <span class="comment">the</span> <span class="comment">length</span> <span class="comment">of</span> <span class="comment">the</span> <span class="comment">buckets</span> <span class="comment">array</span>
 15    <span class="comment">*/</span>
 16    <span class="literal">public</span> HashSet(<span class="literal">int</span> bucketsLength)
 17    {
 18       <span class="ST0">buckets</span> = <span class="literal">new</span> Node[bucketsLength];
 19       <span class="ST0">currentSize</span> = <span class="number">0</span>;
 20    }
 21 
 22    <span class="comment">/**</span>
 23       <span class="comment">Tests</span> <span class="comment">for</span> <span class="comment">set</span> <span class="comment">membership</span><span class="comment">.</span>
 24       <span class="ST1">@param</span> <span class="ST2">x</span> <span class="comment">an</span> <span class="comment">object</span>
 25       <span class="ST1">@return</span> <span class="comment">true</span> <span class="comment">if</span> <span class="comment">x</span> <span class="comment">is</span> <span class="comment">an</span> <span class="comment">element</span> <span class="comment">of</span> <span class="comment">this</span> <span class="comment">set</span>
 26    <span class="comment">*/</span>
 27    <span class="literal">public</span> <span class="literal">boolean</span> <span class="ST3">contains</span>(Object x)
 28    {
 29       <span class="literal">int</span> h = x.hashCode();
 30       h = h % <span class="ST0">buckets</span>.<span class="ST0">length</span>;
 31       <span class="literal">if</span> (h &lt; <span class="number">0</span>) { h = -h; }
 32       
 33       Node current = <span class="ST0">buckets</span>[h];
 34       <span class="literal">while</span> (current != <span class="literal">null</span>)
 35       {
 36          <span class="literal">if</span> (current.<span class="ST0">data</span>.equals(x)) { <span class="literal">return</span> <span class="literal">true</span>; }
 37          current = current.<span class="ST0">next</span>;
 38       }
 39       <span class="literal">return</span> <span class="literal">false</span>;
 40    }
 41 
 42    <span class="comment">/**</span>
 43       <span class="comment">Adds</span> <span class="comment">an</span> <span class="comment">element</span> <span class="comment">to</span> <span class="comment">this</span> <span class="comment">set</span><span class="comment">.</span>
 44       <span class="ST1">@param</span> <span class="ST2">x</span> <span class="comment">an</span> <span class="comment">object</span>
 45       <span class="ST1">@return</span> <span class="comment">true</span> <span class="comment">if</span> <span class="comment">x</span> <span class="comment">is</span> <span class="comment">a</span> <span class="comment">new</span> <span class="comment">object</span><span class="comment">, </span><span class="comment">false</span> <span class="comment">if</span> <span class="comment">x</span> <span class="comment">was</span>
 46       <span class="comment">already</span> <span class="comment">in</span> <span class="comment">the</span> <span class="comment">set</span>
 47    <span class="comment">*/</span>
 48    <span class="literal">public</span> <span class="literal">boolean</span> <span class="ST3">add</span>(Object x)
 49    {
 50       <span class="literal">int</span> h = x.hashCode();
 51       h = h % <span class="ST0">buckets</span>.<span class="ST0">length</span>;
 52       <span class="literal">if</span> (h &lt; <span class="number">0</span>) { h = -h; }
 53       
 54       Node current = <span class="ST0">buckets</span>[h];
 55       <span class="literal">while</span> (current != <span class="literal">null</span>)
 56       {
 57          <span class="literal">if</span> (current.<span class="ST0">data</span>.equals(x)) { <span class="literal">return</span> <span class="literal">false</span>; }
 58             <span class="comment">// Already in the set</span>
 59          current = current.<span class="ST0">next</span>;
 60       }
 61       Node newNode = <span class="literal">new</span> Node();
 62       newNode.<span class="ST0">data</span> = x;
 63       newNode.<span class="ST0">next</span> = <span class="ST0">buckets</span>[h];
 64       <span class="ST0">buckets</span>[h] = newNode;
 65       <span class="ST0">currentSize</span>++;
 66       <span class="literal">return</span> <span class="literal">true</span>;
 67    }
 68 
 69    <span class="comment">/**</span>
 70       <span class="comment">Removes</span> <span class="comment">an</span> <span class="comment">object</span> <span class="comment">from</span> <span class="comment">this</span> <span class="comment">set</span><span class="comment">.</span>
 71       <span class="ST1">@param</span> <span class="ST2">x</span> <span class="comment">an</span> <span class="comment">object</span>
 72       <span class="ST1">@return</span> <span class="comment">true</span> <span class="comment">if</span> <span class="comment">x</span> <span class="comment">was</span> <span class="comment">removed</span> <span class="comment">from</span> <span class="comment">this</span> <span class="comment">set</span><span class="comment">, </span><span class="comment">false</span>
 73       <span class="comment">if</span> <span class="comment">x</span> <span class="comment">was</span> <span class="comment">not</span> <span class="comment">an</span> <span class="comment">element</span> <span class="comment">of</span> <span class="comment">this</span> <span class="comment">set</span>
 74    <span class="comment">*/</span>
 75    <span class="literal">public</span> <span class="literal">boolean</span> <span class="ST3">remove</span>(Object x)
 76    {
 77       <span class="literal">int</span> h = x.hashCode();
 78       h = h % <span class="ST0">buckets</span>.<span class="ST0">length</span>;
 79       <span class="literal">if</span> (h &lt; <span class="number">0</span>) { h = -h; }
 80       
 81       Node current = <span class="ST0">buckets</span>[h];
 82       Node previous = <span class="literal">null</span>;
 83       <span class="literal">while</span> (current != <span class="literal">null</span>)
 84       {
 85          <span class="literal">if</span> (current.<span class="ST0">data</span>.equals(x)) 
 86          {
 87             <span class="literal">if</span> (previous == <span class="literal">null</span>) { <span class="ST0">buckets</span>[h] = current.<span class="ST0">next</span>; }
 88             <span class="literal">else</span> { previous.<span class="ST0">next</span> = current.<span class="ST0">next</span>; }
 89             <span class="ST0">currentSize</span>--;
 90             <span class="literal">return</span> <span class="literal">true</span>;
 91          }
 92          previous = current;
 93          current = current.<span class="ST0">next</span>;
 94       }
 95       <span class="literal">return</span> <span class="literal">false</span>;
 96    }
 97 
 98    <span class="comment">/**</span>
 99       <span class="comment">Returns</span> <span class="comment">an</span> <span class="comment">iterator</span> <span class="comment">that</span> <span class="comment">traverses</span> <span class="comment">the</span> <span class="comment">elements</span> <span class="comment">of</span> <span class="comment">this</span> <span class="comment">set</span><span class="comment">.</span>
100       <span class="ST1">@return</span> <span class="comment">a</span> <span class="comment">hash</span> <span class="comment">set</span> <span class="comment">iterator</span>
101    <span class="comment">*/</span>
102    <span class="literal">public</span> Iterator <span class="ST3">iterator</span>()
103    {
104       <span class="literal">return</span> <span class="literal">new</span> HashSetIterator();
105    }
106 
107    <span class="comment">/**</span>
108       <span class="comment">Gets</span> <span class="comment">the</span> <span class="comment">number</span> <span class="comment">of</span> <span class="comment">elements</span> <span class="comment">in</span> <span class="comment">this</span> <span class="comment">set</span><span class="comment">.</span>
109       <span class="ST1">@return</span> <span class="comment">the</span> <span class="comment">number</span> <span class="comment">of</span> <span class="comment">elements</span>
110    <span class="comment">*/</span>
111    <span class="literal">public</span> <span class="literal">int</span> <span class="ST3">size</span>()
112    {
113       <span class="literal">return</span> <span class="ST0">currentSize</span>;
114    }
115 
116    <span class="literal">class</span> Node
117    {
118       <span class="literal">public</span> Object <span class="ST0">data</span>;
119       <span class="literal">public</span> Node <span class="ST0">next</span>;
120    }
121 
122    <span class="literal">class</span> HashSetIterator <span class="literal">implements</span> Iterator
123    {
124       <span class="literal">private</span> <span class="literal">int</span> <span class="ST0">bucketIndex</span>;
125       <span class="literal">private</span> Node <span class="ST0">current</span>;
126 
127       <span class="comment">/**</span>
128          <span class="comment">Constructs</span> <span class="comment">a</span> <span class="comment">hash</span> <span class="comment">set</span> <span class="comment">iterator</span> <span class="comment">that</span> <span class="comment">points</span> <span class="comment">to</span> <span class="comment">the</span>
129          <span class="comment">first</span> <span class="comment">element</span> <span class="comment">of</span> <span class="comment">the</span> <span class="comment">hash</span> <span class="comment">set</span><span class="comment">.</span>
130       <span class="comment">*/</span>
131       <span class="literal">public</span> HashSetIterator()
132       {
133          <span class="ST0">current</span> = <span class="literal">null</span>;
134          <span class="ST0">bucketIndex</span> = -<span class="number">1</span>;
135       }
136       
137       <span class="literal">public</span> <span class="literal">boolean</span> <span class="ST3">hasNext</span>()
138       {
139          <span class="literal">if</span> (<span class="ST0">current</span> != <span class="literal">null</span> &amp;&amp; <span class="ST0">current</span>.<span class="ST0">next</span> != <span class="literal">null</span>) { <span class="literal">return</span> <span class="literal">true</span>; }
140          <span class="literal">for</span> (<span class="literal">int</span> b = <span class="ST0">bucketIndex</span> + <span class="number">1</span>; b &lt; <span class="ST0">buckets</span>.<span class="ST0">length</span>; b++)
141          {
142             <span class="literal">if</span> (<span class="ST0">buckets</span>[b] != <span class="literal">null</span>) { <span class="literal">return</span> <span class="literal">true</span>; }
143          }
144          <span class="literal">return</span> <span class="literal">false</span>;
145       }
146        
147       <span class="literal">public</span> Object <span class="ST3">next</span>()
148       {
149          <span class="literal">if</span> (<span class="ST0">current</span> != <span class="literal">null</span> &amp;&amp; <span class="ST0">current</span>.<span class="ST0">next</span> != <span class="literal">null</span>) 
150          {            
151             <span class="ST0">current</span> = <span class="ST0">current</span>.<span class="ST0">next</span>; <span class="comment">// Move to next element in bucket</span>
152          }
153          <span class="literal">else</span> <span class="comment">// Move to next bucket</span>
154          {            
155             <span class="literal">do</span>
156             {
157                <span class="ST0">bucketIndex</span>++;
158                <span class="literal">if</span> (<span class="ST0">bucketIndex</span> == <span class="ST0">buckets</span>.<span class="ST0">length</span>) 
159                {
160                   <span class="literal">throw</span> <span class="literal">new</span> NoSuchElementException();
161                }
162                <span class="ST0">current</span> = <span class="ST0">buckets</span>[<span class="ST0">bucketIndex</span>];
163             }
164             <span class="literal">while</span> (<span class="ST0">current</span> == <span class="literal">null</span>);            
165          }
166          <span class="literal">return</span> <span class="ST0">current</span>.<span class="ST0">data</span>;
167       }
168 
169       <span class="literal">public</span> <span class="literal">void</span> <span class="ST3">remove</span>()
170       {
171          <span class="literal">throw</span> <span class="literal">new</span> UnsupportedOperationException();
172       }
173    }
174 }
175 
176 <span class="comment">/**</span>
177    <span class="comment">This</span> <span class="comment">program</span> <span class="comment">demonstrates</span> <span class="comment">the</span> <span class="comment">hash</span> <span class="comment">set</span> <span class="comment">class</span><span class="comment">.</span>
178 <span class="comment">*/</span>
179 <span class="literal">public</span> <span class="literal">class</span> HashSetDemo
180 {
181    <span class="literal">public</span> <span class="literal">static</span> <span class="literal">void</span> <span class="ST4">main</span>(String[] args)
182    {
183       HashSet names = <span class="literal">new</span> HashSet(<span class="number">101</span>); 
184 
185       names.add(<span class="string">&quot;</span><span class="string">Harry</span><span class="string">&quot;</span>);
186       names.add(<span class="string">&quot;</span><span class="string">Sue</span><span class="string">&quot;</span>);
187       names.add(<span class="string">&quot;</span><span class="string">Nina</span><span class="string">&quot;</span>);
188       names.add(<span class="string">&quot;</span><span class="string">Susannah</span><span class="string">&quot;</span>);
189       names.add(<span class="string">&quot;</span><span class="string">Larry</span><span class="string">&quot;</span>);
190       names.add(<span class="string">&quot;</span><span class="string">Juliet</span><span class="string">&quot;</span>);
191       names.add(<span class="string">&quot;</span><span class="string">Romeo</span><span class="string">&quot;</span>);
192       names.remove(<span class="string">&quot;</span><span class="string">Romeo</span><span class="string">&quot;</span>);
193       names.remove(<span class="string">&quot;</span><span class="string">George</span><span class="string">&quot;</span>);
194 
195       Iterator iter = names.iterator();
196       <span class="literal">while</span> (iter.hasNext())
197       {
198          System.<span class="ST5">out</span>.println(iter.next());
199       }
200    }
201 }
202 
203 
</pre></body>
</html>
